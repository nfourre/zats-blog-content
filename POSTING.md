# Posting in **zatsit** Blog

## Table of contents

* [Prerequisites](#prerequisites)
* Initialize your blog post
  * [Interactive way](#initialize-your-blog-post---interactive-way)
  * [Manual way](#initialize-your-blog-post---manual-way)
    * [Branch naming convention](#branch-naming-convention)
    * [Blog post category](#blog-post-category)
    * [Blog post structure](#blog-post-structure)
    * [Blog post file and content](#blog-post-file-and-content)
* [Blog post content](#blog-post-content)
  * [Using pictures](#using-pictures)
  * [Add social media link](#add-social-media-link)
  * [Add a video link in your post](#add-a-video-link-in-your-post)
* [Blog preview generated by Pull Request](#blog-preview-generated-by-pull-request)


## Introduction

The blog is based on [Docusaurus](https://docusaurus.io/), a modern static website generator.

> Refer to the [Docusaurus documentation](https://docusaurus.io/docs) for more information.

This documentation explain the process to write a new blog post.

## Prerequisites

Before writting a post, ensure you respect the following:

* Author information is added in the [authors.yml](authors/authors.yml) file

> All prerequisites are explained in the [PRE_POSTING.md](./PRE_POSTING.md) file.

## Initialize your blog post - Interactive way

To help you to create your post, the `init_post.sh` shell script is available and will help you to easily create the post folder and the `index.md`.

```bash
./init_post.sh
```

It will ask you for:

* the author of your post
* the category of your post
* the title of your post

Then it will create the folder and the `index.md` file with the metadata.

## Initialize your blog post - Manual way

To write a blog post, it will be asked the following informations (**bold** means required):

* **Author information**
* **Blog category**
* **Blog title**
* **Blog slug**
* Blog tags
* Blog sumup
* **Blog content**

### Branch naming convention

To ensure lisibility when reviewing, please respect the branch naming convention `feat/<category>-<date>-<slug>` where:

* `category` is the category of your post
* `date` is the date of the day you create the branch in format `YYYYMMDD`
* `slug` is the slug of your post

```raw
git checkout -b feat/general-20231221-my-first-blog-post
```

> We use the [conventional commits](https://www.conventionalcommits.org/en/v1.0.0/) naming convention.

### Blog post category

Blog posts are stored in categories. You have to choose the category of your post.

You can find all the available categories in the file [config.json](config.json):

* ai
* architecture
* cloud
* data
* dev
* general
* green
* mobile
* ops
* web

> If you think you need a new category, please contact [DT](mailto:dirtech@zatsit.fr).

> Choose the main category for your blog post. Only one category is allowed. Other related categories can be added through tags. 

### Blog post structure

Blog posts are stored this way `blog/<category>/<date>-<slug>/index.md` where:

* `category` is the category of your post
* `date` is the date of the day you create the branch in format `YYYY-MM-DD`
* `slug` is the slug of your post

Example:

```bash
mkdir -p blog/cloud/2023-12-21-my-first-blog-post
```

### Blog post file and content

The blog post file is a markdown file named `index.md` located in previously created folder.

Example:

```bash
touch blog/cloud/2023-12-21-my-first-blog-post/index.md
```

The blog post file must contain the following elements:

```md
---
title: <title>
slug: <slug>
authors: [<author>]
tags: [<tag1>, <tag2>]
---

<sumup>

<!-- truncate -->

<content>
```

Where:

* `title`: the title of your post
* `slug`: the slug of your post
* `authors`: the author of your post
* `tags`: the tags of your post
* `sumup`: the sumup of your post
* `content`: the content of your post

Example:

```md
---
slug: my-first-blog-post
title: My first blog post
authors: [jdoe]
tags:
  - "example"
  - "tag"
---

This is an example of a sumup that will be displayed on the blog home page.

<!-- truncate -->

The blog post starts here and can contain text, images, videos, etc.
```

## Blog post content

### Using pictures

All your pictures for your post have to be stored in your post folder, feel free to create subfolders if you want.

> Do not forget alternative test for accessibility.

> Do not forget to credit your pictures according to the licence of the picture.

> Ideally, you should use the `webp` or `avif` format for your pictures, but if you have to use another format, please use the smallest size possible.

### Add social media link

In this version, the minimalist solution found to add link to share on `X` and `LinkedIn` is to copy/paste this two lines, customizing the query attribute, for example:

```md
[![Partage Linkedin](../../../static/img/icon-linkedin.webp)](https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzatsit-blog.web.app%2Fblog%2Fredpanda-introduction%2F)
[![Partage X](../../../static/img/icon-x.webp)](https://twitter.com/intent/tweet?text=Pr%C3%A9sentation%20de%20RedPanda%2C%20au%20travers%20du%20premier%20cours%20d%C3%A9di%C3%A9%20aux%20d%C3%A9veloppeurs%20de%20la%20%22RedPanda%20University%22%20que%20j%27ai%20suivi%2C%0Aje%20vous%20pr%C3%A9sente%20les%20grands%20principes%20et%20les%20premiers%20pas%20dans%20cet%20%C3%A9cosyst%C3%A8me&url=https%3A%2F%2Fzatsit-blog.web.app%2Fblog%2Fredpanda-introduction%2F)
```

Take care of the relative path of the two social icons, regarding the folders in the category.

* For `LinkedIn` and `X`: the url of your post use the root of the blog and your slug. You have to encode your url (you can use [URL Encoder](https://www.urlencoder.org/)
* For `X` only: encode the description of your post too.

### Add a video link in your post

We don't want to use the iframe way to add a video in our post, because it is not performant (and so, not green). So the idea is to link the video with a picture, and the picture will be the link to the video.

* Get the YouTube Thumbnail from [https://www.get-youtube-thumbnail.com](https://www.get-youtube-thumbnail.com), and store it in your post folder.
* Link the video with this example snippet (that is used in the [AsyncAPI post](/blog/architecture/2023-12-21-AsyncAPI-3/index.md))

Format:

```md
[![<title>](<image_path> '<accessibility tile>')](<youtube_link>)
```

Where:

* `title`: the accessibility itle of the video
* `image_path`: the path to the image
* `tile`: the accessibility tile of the video
* `youtube_link`: the link to the youtube video

Example:

```md
[![Regarder la video sur Youtube](./v3livemigration.jpeg 'Go to v3 migration live')](https://www.youtube.com/watch?v=WCK9_ZDv6K4)
```

## Blog preview generated by Pull Request

Submitting your code and on a pull request will trigger a Github Actions workflow that will generate a preview on your article based on [zatsit blog](https://zatsit.github.io/blog/).
